# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Xray-core —Å VLESS –∏ Reality –Ω–∞ AlmaLinux

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Xray-core —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ VLESS –∏ Reality –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö AlmaLinux –∏–ª–∏ RHEL –ø–æ–¥–æ–±–Ω—ã—Ö.

---

## 1. **–û–±–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä**
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–∞–∫–µ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã:
```bash
sudo dnf update -y
```

---

## 2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã:
```bash
sudo dnf install -y curl wget vim unzip openssl
```

---

## 3. **–°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Xray-core**
1. –°–∫–∞—á–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é Xray-core —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
   ```bash
   curl -L https://github.com/XTLS/Xray-core/releases/latest/download/Xray-linux-64.zip -o Xray.zip
   ```
2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤:
   ```bash
   unzip Xray.zip -d /usr/local/bin/
   ```
3. –°–¥–µ–ª–∞–π—Ç–µ –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
   ```bash
   chmod +x /usr/local/bin/xray
   ```

---

## 4. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è UUID, ShortID –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞**
1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ UUID:
   ```bash
   cat /proc/sys/kernel/random/uuid
   ```
2. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏ –¥–ª—è Reality:
   ```bash
   xray x25519
   ```
**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
   ```
   Private key: sK9VV_qkrI5Aex7YCsFt9lgddBVK9DIUyzN9R9PYIF9
   Public key: C2jbG73fEkDX190hplzPkDmUZ0vJYowxzZoLu-ylgD9
   ```
3. –°–æ–∑–¥–∞–π—Ç–µ ShortID:
ShortID ‚Äî —ç—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å ShortID, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª—É—á–∞–π–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `openssl` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

    ```bash
    openssl rand -base64 8 | tr -d '=' | tr -d '/' | tr -d '+' | cut -c1-14
    ```

    –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É –¥–ª–∏–Ω–æ–π 14 —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ ShortID. –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ç—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º —É–¥–æ–±–µ–Ω.

–° –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
```bash
cat /dev/urandom | tr -dc 'a-f0-9' | head -c 14
```

–í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Short ID, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤:

{
  "shortIds": ["1a2b3c4d", "e4f2a1b3"]
}

   **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.**
---

### 5. **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è VLESS –∏ Reality**
1. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
   ```bash
   mkdir -p /usr/local/etc/xray
   ```
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
   ```bash
   vim /usr/local/etc/xray/config.json
   ```

–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è VLESS + Reality:
```json
{
  "log": {
    "loglevel": "warning"
  },
  "inbounds": [
    {
      "tag": "vless-reality",
      "port": 443,
      "protocol": "vless",
      "settings": {
        "clients": [
          {
            "id": "–í–ê–®-UUID",
            "flow": "xtls-rprx-vision"
          }
        ],
        "decryption": "none",
        "fallbacks": [
          {
            "dest": 80
          }
        ]
      },
      "streamSettings": {
        "network": "tcp",
        "security": "reality",
        "realitySettings": {
          "show": false,
          "dest": "www.google.com:443",
          "serverNames": ["www.google.com"],
          "privateKey": "–í–ê–®-–ü–†–ò–í–ê–¢–ù–´–ô-–ö–õ–Æ–ß",
          "shortIds": ["–í–ê–®-SHORTID"],
          "spiderX": "/"
        }
      },
      "sniffing": {
        "enabled": true,
        "destOverride": ["http", "tls"]
      }
    }
  ],
  "outbounds": [
    {
      "protocol": "freedom",
      "settings": {}
    }
  ]
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**
- `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π UUID –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞.
- `privateKey`: –í–∞—à –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ.
- `shortIds`: –°–ø–∏—Å–æ–∫ Short ID –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤.
- `fallbacks`: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞, –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ VLESS.

---

### 6. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ Xray**
1. –°–æ–∑–¥–∞–π—Ç–µ systemd-—Å–µ—Ä–≤–∏—Å:
   ```bash
   vim /etc/systemd/system/xray.service
   ```
2. –í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç:
   ```ini
   [Unit]
   Description=Xray Service
   After=network.target

   [Service]
   User=root
   ExecStart=/usr/local/bin/xray -config /usr/local/etc/xray/config.json
   Restart=on-failure

   [Install]
   WantedBy=multi-user.target
   ```
3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
   ```bash
   sudo systemctl enable xray
   sudo systemctl start xray
   ```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞:
   ```bash
   sudo systemctl status xray
   ```

---

### 7. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç 443 –≤ –≤–∞—à–µ–º —Ñ–∞–π–µ—Ä–≤–æ–ª–µ:
```bash
sudo firewall-cmd --add-port=443/tcp --permanent
sudo firewall-cmd --reload
```

---

### 8. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:
  ```bash
  journalctl -u xray -f
  ```

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à –∫–ª–∏–µ–Ω—Ç VLESS, —É–∫–∞–∑–∞–≤ `UUID`, —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∞–¥—Ä–µ—Å –∏ –ø–æ—Ä—Ç 443.

---
–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í—ã —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ Xray-core —Å VLESS –∏ Reality. –¢–µ–ø–µ—Ä—å –≤–∞—à —Å–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é. üéâ